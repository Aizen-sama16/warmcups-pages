<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Warmcups & Pages - Your Cozy Bookstore</title>
    <meta name="description" content="Discover your next favorite book at Warmcups & Pages. A premium online bookstore with a cozy coffee-shop vibe.">
    
    <style>
        /* ========== CSS VARIABLES ========== */
        :root {
            --primary-blue: #1e3a5f;
            --secondary-blue: #2563eb;
            --light-blue: #3b82f6;
            --accent-blue: #60a5fa;
            --warm-cream: #fef7ed;
            --warm-amber: #f59e0b;
            --warm-brown: #78350f;
            --text-dark: #1e293b;
            --text-light: #64748b;
            --white: #ffffff;
            --gray-100: #f1f5f9;
            --gray-200: #e2e8f0;
            --gray-300: #cbd5e1;
            --shadow-sm: 0 1px 2px rgba(0, 0, 0, 0.05);
            --shadow-md: 0 4px 6px -1px rgba(0, 0, 0, 0.1);
            --shadow-lg: 0 10px 15px -3px rgba(0, 0, 0, 0.1);
            --shadow-xl: 0 20px 25px -5px rgba(0, 0, 0, 0.1);
            --transition: all 0.3s ease;
        }

        /* Dark Mode Variables */
        .dark {
            --primary-blue: #60a5fa;
            --secondary-blue: #3b82f6;
            --light-blue: #2563eb;
            --accent-blue: #1d4ed8;
            --warm-cream: #1e293b;
            --text-dark: #f1f5f9;
            --text-light: #94a3b8;
            --white: #0f172a;
            --gray-100: #1e293b;
            --gray-200: #334155;
            --gray-300: #475569;
        }

        /* ========== RESET & BASE ========== */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        html {
            scroll-behavior: smooth;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #eff6ff 0%, #ffffff 50%, #fef7ed 100%);
            color: var(--text-dark);
            line-height: 1.6;
            min-height: 100vh;
            transition: var(--transition);
        }

        .dark body {
            background: linear-gradient(135deg, #0f172a 0%, #1e293b 50%, #1e293b 100%);
        }

        a {
            text-decoration: none;
            color: inherit;
        }

        button {
            cursor: pointer;
            border: none;
            outline: none;
            font-family: inherit;
        }

        img {
            max-width: 100%;
            height: auto;
        }

        /* ========== UTILITY CLASSES ========== */
        .container {
            max-width: 1280px;
            margin: 0 auto;
            padding: 0 20px;
        }

        .hidden {
            display: none !important;
        }

        .gradient-text {
            background: linear-gradient(135deg, var(--secondary-blue), var(--warm-amber));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        /* ========== HEADER ========== */
        .header {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            z-index: 1000;
            background: rgba(255, 255, 255, 0.9);
            backdrop-filter: blur(20px);
            border-bottom: 1px solid var(--gray-200);
            transition: var(--transition);
        }

        .dark .header {
            background: rgba(15, 23, 42, 0.9);
            border-bottom-color: var(--gray-200);
        }

        .header-content {
            display: flex;
            align-items: center;
            justify-content: space-between;
            padding: 15px 20px;
            max-width: 1280px;
            margin: 0 auto;
        }

        .logo {
            display: flex;
            align-items: center;
            gap: 10px;
            font-size: 1.5rem;
            font-weight: 700;
            color: var(--primary-blue);
        }

        .logo-icon {
            font-size: 2rem;
        }

        .logo-text span {
            display: block;
            font-size: 0.7rem;
            color: var(--text-light);
            font-weight: 400;
            margin-top: -5px;
        }

        .nav-desktop {
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .nav-btn {
            padding: 10px 20px;
            border-radius: 12px;
            font-weight: 500;
            font-size: 0.95rem;
            background: transparent;
            color: var(--text-dark);
            transition: var(--transition);
            display: flex;
            align-items: center;
            gap: 6px;
        }

        .nav-btn:hover {
            background: var(--gray-100);
        }

        .nav-btn.active {
            background: linear-gradient(135deg, var(--secondary-blue), var(--light-blue));
            color: white;
        }

        .nav-btn .badge {
            background: #ef4444;
            color: white;
            font-size: 0.7rem;
            padding: 2px 6px;
            border-radius: 10px;
            min-width: 18px;
            text-align: center;
        }

        .nav-btn.active .badge {
            background: rgba(255, 255, 255, 0.3);
        }

        .header-actions {
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .search-box {
            position: relative;
            display: flex;
            align-items: center;
        }

        .search-box input {
            padding: 10px 15px 10px 40px;
            border: 2px solid var(--gray-200);
            border-radius: 12px;
            width: 250px;
            font-size: 0.9rem;
            background: var(--white);
            color: var(--text-dark);
            transition: var(--transition);
        }

        .search-box input:focus {
            border-color: var(--secondary-blue);
            box-shadow: 0 0 0 3px rgba(37, 99, 235, 0.1);
        }

        .search-box::before {
            content: 'üîç';
            position: absolute;
            left: 12px;
            font-size: 1rem;
        }

        .icon-btn {
            width: 44px;
            height: 44px;
            border-radius: 12px;
            background: var(--gray-100);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.2rem;
            transition: var(--transition);
        }

        .icon-btn:hover {
            background: var(--gray-200);
            transform: scale(1.05);
        }

        .mobile-menu-btn {
            display: none;
        }

        /* ========== MOBILE MENU ========== */
        .mobile-menu {
            display: none;
            position: fixed;
            top: 75px;
            left: 0;
            right: 0;
            background: var(--white);
            border-bottom: 1px solid var(--gray-200);
            padding: 20px;
            z-index: 999;
        }

        .mobile-menu.show {
            display: block;
        }

        .mobile-menu .search-box {
            margin-bottom: 15px;
        }

        .mobile-menu .search-box input {
            width: 100%;
        }

        .mobile-menu .nav-btn {
            width: 100%;
            justify-content: flex-start;
            padding: 15px;
            margin-bottom: 5px;
        }

        /* ========== HERO SECTION ========== */
        .hero {
            padding: 120px 20px 80px;
            position: relative;
            overflow: hidden;
            min-height: 90vh;
            display: flex;
            align-items: center;
        }

        .hero::before {
            content: '';
            position: absolute;
            top: -100px;
            right: -100px;
            width: 500px;
            height: 500px;
            background: radial-gradient(circle, rgba(37, 99, 235, 0.15) 0%, transparent 70%);
            border-radius: 50%;
            animation: float 6s ease-in-out infinite;
        }

        .hero::after {
            content: '';
            position: absolute;
            bottom: -100px;
            left: -100px;
            width: 400px;
            height: 400px;
            background: radial-gradient(circle, rgba(245, 158, 11, 0.15) 0%, transparent 70%);
            border-radius: 50%;
            animation: float 8s ease-in-out infinite reverse;
        }

        @keyframes float {
            0%, 100% { transform: translateY(0) rotate(0deg); }
            50% { transform: translateY(-30px) rotate(5deg); }
        }

        .hero-content {
            max-width: 1280px;
            margin: 0 auto;
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 60px;
            align-items: center;
            position: relative;
            z-index: 1;
        }

        .hero-text h1 {
            font-size: 3.5rem;
            font-weight: 800;
            line-height: 1.1;
            margin-bottom: 20px;
        }

        .hero-text p {
            font-size: 1.2rem;
            color: var(--text-light);
            margin-bottom: 30px;
            max-width: 500px;
        }

        .hero-buttons {
            display: flex;
            gap: 15px;
            flex-wrap: wrap;
        }

        .btn {
            padding: 15px 30px;
            border-radius: 14px;
            font-weight: 600;
            font-size: 1rem;
            display: inline-flex;
            align-items: center;
            gap: 8px;
            transition: var(--transition);
        }

        .btn-primary {
            background: linear-gradient(135deg, var(--secondary-blue), var(--light-blue));
            color: white;
            box-shadow: 0 4px 15px rgba(37, 99, 235, 0.4);
        }

        .btn-primary:hover {
            transform: translateY(-3px);
            box-shadow: 0 8px 25px rgba(37, 99, 235, 0.5);
        }

        .btn-secondary {
            background: var(--white);
            color: var(--secondary-blue);
            border: 2px solid var(--gray-200);
        }

        .btn-secondary:hover {
            border-color: var(--secondary-blue);
            background: #eff6ff;
        }

        .hero-stats {
            display: flex;
            gap: 40px;
            margin-top: 50px;
        }

        .stat-item h3 {
            font-size: 2rem;
            font-weight: 700;
            background: linear-gradient(135deg, var(--secondary-blue), var(--warm-amber));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }

        .stat-item p {
            font-size: 0.9rem;
            color: var(--text-light);
            margin: 0;
        }

        .hero-image {
            position: relative;
            display: flex;
            justify-content: center;
        }

        .hero-image-main {
            width: 400px;
            height: 500px;
            background: linear-gradient(135deg, #dbeafe, #fef3c7);
            border-radius: 30px;
            overflow: hidden;
            box-shadow: var(--shadow-xl);
            position: relative;
        }

        .hero-image-main img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }

        .floating-card {
            position: absolute;
            background: var(--white);
            padding: 15px 20px;
            border-radius: 16px;
            box-shadow: var(--shadow-lg);
            animation: float 4s ease-in-out infinite;
        }

        .floating-card-1 {
            top: 20px;
            left: -30px;
            animation-delay: 0s;
        }

        .floating-card-2 {
            bottom: 40px;
            right: -30px;
            animation-delay: 2s;
        }

        .floating-card .book-mini {
            width: 40px;
            height: 55px;
            background: linear-gradient(135deg, var(--secondary-blue), var(--light-blue));
            border-radius: 6px;
        }

        .floating-card-content {
            display: flex;
            align-items: center;
            gap: 12px;
        }

        .floating-card-text h4 {
            font-size: 0.85rem;
            font-weight: 600;
            margin-bottom: 2px;
        }

        .floating-card-text p {
            font-size: 0.75rem;
            color: var(--text-light);
            margin: 0;
        }

        /* ========== CATEGORIES ========== */
        .categories {
            padding: 80px 20px;
        }

        .section-header {
            text-align: center;
            margin-bottom: 50px;
        }

        .section-header h2 {
            font-size: 2.5rem;
            font-weight: 700;
            margin-bottom: 15px;
        }

        .section-header p {
            font-size: 1.1rem;
            color: var(--text-light);
            max-width: 600px;
            margin: 0 auto;
        }

        .categories-grid {
            display: grid;
            grid-template-columns: repeat(6, 1fr);
            gap: 20px;
            max-width: 1280px;
            margin: 0 auto;
        }

        .category-card {
            background: var(--white);
            padding: 30px 20px;
            border-radius: 20px;
            text-align: center;
            cursor: pointer;
            transition: var(--transition);
            border: 2px solid transparent;
            box-shadow: var(--shadow-md);
        }

        .category-card:hover {
            transform: translateY(-8px);
            box-shadow: var(--shadow-xl);
            border-color: var(--secondary-blue);
        }

        .category-card.active {
            background: linear-gradient(135deg, var(--secondary-blue), var(--light-blue));
            color: white;
            border-color: transparent;
        }

        .category-card .icon {
            font-size: 2.5rem;
            margin-bottom: 10px;
            display: block;
        }

        .category-card h3 {
            font-size: 0.95rem;
            font-weight: 600;
        }

        /* ========== BOOKS GRID ========== */
        .books-section {
            padding: 80px 20px;
            background: linear-gradient(180deg, transparent, var(--gray-100));
        }

        .dark .books-section {
            background: linear-gradient(180deg, transparent, var(--gray-100));
        }

        .books-grid {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 25px;
            max-width: 1280px;
            margin: 0 auto;
        }

        .book-card {
            background: var(--white);
            border-radius: 20px;
            overflow: hidden;
            box-shadow: var(--shadow-md);
            transition: var(--transition);
            cursor: pointer;
        }

        .book-card:hover {
            transform: translateY(-10px);
            box-shadow: var(--shadow-xl);
        }

        .book-cover {
            height: 280px;
            background: linear-gradient(135deg, #dbeafe, #fef3c7);
            position: relative;
            overflow: hidden;
        }

        .book-cover img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            transition: transform 0.5s ease;
        }

        .book-card:hover .book-cover img {
            transform: scale(1.1);
        }

        .book-cover-overlay {
            position: absolute;
            inset: 0;
            background: linear-gradient(to top, rgba(0, 0, 0, 0.5), transparent);
            opacity: 0;
            transition: var(--transition);
        }

        .book-card:hover .book-cover-overlay {
            opacity: 1;
        }

        .book-actions {
            position: absolute;
            top: 15px;
            right: 15px;
            display: flex;
            flex-direction: column;
            gap: 8px;
            opacity: 0;
            transform: translateX(20px);
            transition: var(--transition);
        }

        .book-card:hover .book-actions {
            opacity: 1;
            transform: translateX(0);
        }

        .action-btn {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            background: var(--white);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1rem;
            box-shadow: var(--shadow-md);
            transition: var(--transition);
        }

        .action-btn:hover {
            transform: scale(1.1);
        }

        .action-btn.wishlisted {
            background: #ef4444;
            color: white;
        }

        .book-category-badge {
            position: absolute;
            top: 15px;
            left: 15px;
            background: var(--white);
            padding: 5px 12px;
            border-radius: 20px;
            font-size: 0.75rem;
            font-weight: 600;
            color: var(--secondary-blue);
        }

        .book-info {
            padding: 20px;
        }

        .book-info h3 {
            font-size: 1.1rem;
            font-weight: 600;
            margin-bottom: 5px;
            white-space: nowrap;
            overflow: hidden;
            text-overflow: ellipsis;
        }

        .book-info .author {
            font-size: 0.9rem;
            color: var(--text-light);
            margin-bottom: 10px;
        }

        .book-rating {
            display: flex;
            align-items: center;
            gap: 5px;
            margin-bottom: 15px;
        }

        .stars {
            color: #fbbf24;
            font-size: 0.9rem;
        }

        .rating-count {
            font-size: 0.8rem;
            color: var(--text-light);
        }

        .book-price-row {
            display: flex;
            align-items: center;
            justify-content: space-between;
        }

        .book-price {
            font-size: 1.4rem;
            font-weight: 700;
            color: var(--secondary-blue);
        }

        .add-to-cart-btn {
            padding: 10px 18px;
            background: linear-gradient(135deg, var(--secondary-blue), var(--light-blue));
            color: white;
            border-radius: 10px;
            font-weight: 600;
            font-size: 0.85rem;
            display: flex;
            align-items: center;
            gap: 5px;
            transition: var(--transition);
        }

        .add-to-cart-btn:hover {
            transform: scale(1.05);
            box-shadow: 0 4px 15px rgba(37, 99, 235, 0.4);
        }

        /* ========== BOOK DETAIL MODAL ========== */
        .modal-overlay {
            position: fixed;
            inset: 0;
            background: rgba(0, 0, 0, 0.6);
            backdrop-filter: blur(5px);
            z-index: 2000;
            display: none;
            align-items: center;
            justify-content: center;
            padding: 20px;
        }

        .modal-overlay.show {
            display: flex;
        }

        .modal {
            background: var(--white);
            border-radius: 30px;
            max-width: 900px;
            width: 100%;
            max-height: 90vh;
            overflow-y: auto;
            position: relative;
            animation: modalIn 0.3s ease;
        }

        @keyframes modalIn {
            from {
                opacity: 0;
                transform: scale(0.9) translateY(20px);
            }
            to {
                opacity: 1;
                transform: scale(1) translateY(0);
            }
        }

        .modal-close {
            position: absolute;
            top: 20px;
            right: 20px;
            width: 44px;
            height: 44px;
            border-radius: 50%;
            background: var(--gray-100);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.3rem;
            z-index: 10;
            transition: var(--transition);
        }

        .modal-close:hover {
            background: var(--gray-200);
            transform: rotate(90deg);
        }

        .modal-content {
            display: grid;
            grid-template-columns: 1fr 1.2fr;
            gap: 40px;
            padding: 40px;
        }

        .modal-book-cover {
            border-radius: 20px;
            overflow: hidden;
            box-shadow: var(--shadow-xl);
            position: sticky;
            top: 20px;
        }

        .modal-book-cover img {
            width: 100%;
            height: auto;
            display: block;
        }

        .modal-book-info h1 {
            font-size: 2rem;
            font-weight: 700;
            margin-bottom: 10px;
        }

        .modal-book-info .author {
            font-size: 1.1rem;
            color: var(--text-light);
            margin-bottom: 20px;
        }

        .modal-rating {
            display: flex;
            align-items: center;
            gap: 10px;
            margin-bottom: 20px;
        }

        .modal-rating .stars {
            font-size: 1.2rem;
        }

        .user-rating {
            padding: 20px;
            background: var(--gray-100);
            border-radius: 15px;
            margin-bottom: 20px;
        }

        .user-rating h4 {
            font-size: 0.9rem;
            margin-bottom: 10px;
            color: var(--text-light);
        }

        .user-rating .stars-interactive {
            font-size: 1.8rem;
            cursor: pointer;
        }

        .user-rating .stars-interactive span {
            transition: var(--transition);
        }

        .user-rating .stars-interactive span:hover {
            transform: scale(1.2);
        }

        .modal-price {
            font-size: 2.5rem;
            font-weight: 700;
            background: linear-gradient(135deg, var(--secondary-blue), var(--warm-amber));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            margin-bottom: 25px;
        }

        .modal-buttons {
            display: flex;
            gap: 15px;
            margin-bottom: 30px;
        }

        .modal-buttons .btn {
            flex: 1;
            justify-content: center;
        }

        .modal-description {
            margin-bottom: 30px;
        }

        .modal-description h3 {
            font-size: 1.2rem;
            font-weight: 600;
            margin-bottom: 10px;
        }

        .modal-description p {
            color: var(--text-light);
            line-height: 1.8;
        }

        .modal-details-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 15px;
        }

        .detail-item {
            background: var(--gray-100);
            padding: 15px 20px;
            border-radius: 12px;
        }

        .detail-item label {
            font-size: 0.8rem;
            color: var(--text-light);
            display: block;
            margin-bottom: 5px;
        }

        .detail-item span {
            font-weight: 600;
        }

        /* ========== CART & WISHLIST PAGES ========== */
        .page-content {
            padding: 100px 20px 60px;
            min-height: 100vh;
        }

        .page-header {
            margin-bottom: 40px;
        }

        .page-header h1 {
            font-size: 2.5rem;
            font-weight: 700;
            margin-bottom: 10px;
        }

        .cart-layout {
            display: grid;
            grid-template-columns: 1fr 350px;
            gap: 40px;
            max-width: 1280px;
            margin: 0 auto;
        }

        .cart-items {
            display: flex;
            flex-direction: column;
            gap: 15px;
        }

        .cart-item {
            display: flex;
            gap: 20px;
            background: var(--white);
            padding: 20px;
            border-radius: 20px;
            box-shadow: var(--shadow-md);
        }

        .cart-item img {
            width: 80px;
            height: 110px;
            object-fit: cover;
            border-radius: 10px;
        }

        .cart-item-info {
            flex: 1;
        }

        .cart-item-info h3 {
            font-size: 1.1rem;
            font-weight: 600;
            margin-bottom: 5px;
        }

        .cart-item-info .author {
            font-size: 0.9rem;
            color: var(--text-light);
            margin-bottom: 10px;
        }

        .cart-item-info .price {
            font-size: 1.2rem;
            font-weight: 700;
            color: var(--secondary-blue);
        }

        .cart-item-actions {
            display: flex;
            flex-direction: column;
            align-items: flex-end;
            justify-content: space-between;
        }

        .quantity-control {
            display: flex;
            align-items: center;
            gap: 10px;
            background: var(--gray-100);
            padding: 8px 15px;
            border-radius: 10px;
        }

        .quantity-control button {
            width: 30px;
            height: 30px;
            border-radius: 8px;
            background: var(--white);
            font-size: 1.2rem;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: var(--transition);
        }

        .quantity-control button:hover {
            background: var(--secondary-blue);
            color: white;
        }

        .quantity-control span {
            font-weight: 600;
            min-width: 25px;
            text-align: center;
        }

        .remove-btn {
            color: #ef4444;
            font-size: 1.2rem;
            padding: 8px;
            transition: var(--transition);
        }

        .remove-btn:hover {
            background: #fef2f2;
            border-radius: 10px;
        }

        .order-summary {
            background: var(--white);
            padding: 30px;
            border-radius: 20px;
            box-shadow: var(--shadow-lg);
            height: fit-content;
            position: sticky;
            top: 100px;
        }

        .order-summary h2 {
            font-size: 1.4rem;
            font-weight: 600;
            margin-bottom: 25px;
        }

        .summary-row {
            display: flex;
            justify-content: space-between;
            margin-bottom: 15px;
            padding-bottom: 15px;
            border-bottom: 1px solid var(--gray-200);
        }

        .summary-row:last-of-type {
            border-bottom: none;
            padding-bottom: 0;
        }

        .summary-row.total {
            font-size: 1.3rem;
            font-weight: 700;
            margin-top: 10px;
            padding-top: 15px;
            border-top: 2px solid var(--gray-200);
        }

        .summary-row.total span:last-child {
            background: linear-gradient(135deg, var(--secondary-blue), var(--warm-amber));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }

        .free-shipping {
            color: #22c55e;
            font-weight: 500;
        }

        .checkout-btn {
            width: 100%;
            margin-top: 20px;
        }

        /* Wishlist Grid */
        .wishlist-grid {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 25px;
            max-width: 1280px;
            margin: 0 auto;
        }

        /* Empty State */
        .empty-state {
            text-align: center;
            padding: 80px 20px;
        }

        .empty-state .icon {
            font-size: 5rem;
            margin-bottom: 20px;
        }

        .empty-state h2 {
            font-size: 2rem;
            font-weight: 600;
            margin-bottom: 10px;
        }

        .empty-state p {
            color: var(--text-light);
            margin-bottom: 30px;
        }

        /* ========== ABOUT PAGE ========== */
        .about-hero {
            text-align: center;
            padding: 120px 20px 60px;
        }

        .about-hero .logo-large {
            font-size: 4rem;
            margin-bottom: 20px;
        }

        .about-hero h1 {
            font-size: 3rem;
            font-weight: 700;
            margin-bottom: 15px;
        }

        .about-hero p {
            font-size: 1.2rem;
            color: var(--text-light);
            max-width: 600px;
            margin: 0 auto;
        }

        .about-content {
            max-width: 900px;
            margin: 0 auto;
            padding: 0 20px 80px;
        }

        .about-section {
            background: var(--white);
            padding: 40px;
            border-radius: 25px;
            box-shadow: var(--shadow-lg);
            margin-bottom: 30px;
        }

        .about-section h2 {
            display: flex;
            align-items: center;
            gap: 12px;
            font-size: 1.6rem;
            font-weight: 600;
            margin-bottom: 20px;
        }

        .about-section h2 .icon {
            width: 50px;
            height: 50px;
            background: var(--gray-100);
            border-radius: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.5rem;
        }

        .about-section p {
            color: var(--text-light);
            line-height: 1.8;
            margin-bottom: 15px;
        }

        .about-section p:last-child {
            margin-bottom: 0;
        }

        .about-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 30px;
        }

        .why-us-list {
            display: grid;
            gap: 20px;
        }

        .why-item {
            display: flex;
            gap: 15px;
        }

        .why-item .num {
            width: 35px;
            height: 35px;
            background: linear-gradient(135deg, var(--secondary-blue), var(--warm-amber));
            color: white;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 700;
            flex-shrink: 0;
        }

        .why-item h4 {
            font-weight: 600;
            margin-bottom: 5px;
        }

        .why-item p {
            font-size: 0.9rem;
            margin: 0;
        }

        /* ========== FOOTER ========== */
        .footer {
            background: var(--white);
            border-top: 1px solid var(--gray-200);
            padding: 60px 20px 30px;
        }

        .footer-content {
            max-width: 1280px;
            margin: 0 auto;
            display: grid;
            grid-template-columns: 2fr 1fr 1fr 1fr;
            gap: 40px;
        }

        .footer-brand .logo {
            margin-bottom: 15px;
        }

        .footer-brand p {
            color: var(--text-light);
            font-size: 0.9rem;
        }

        .footer-links h4 {
            font-weight: 600;
            margin-bottom: 20px;
        }

        .footer-links ul {
            list-style: none;
        }

        .footer-links li {
            margin-bottom: 12px;
        }

        .footer-links a {
            color: var(--text-light);
            font-size: 0.9rem;
            transition: var(--transition);
        }

        .footer-links a:hover {
            color: var(--secondary-blue);
        }

        .footer-bottom {
            max-width: 1280px;
            margin: 40px auto 0;
            padding-top: 30px;
            border-top: 1px solid var(--gray-200);
            text-align: center;
            color: var(--text-light);
            font-size: 0.9rem;
        }

        /* ========== LOADING SPINNER ========== */
        .loading {
            display: flex;
            justify-content: center;
            align-items: center;
            padding: 60px;
        }

        .spinner {
            width: 50px;
            height: 50px;
            border: 4px solid var(--gray-200);
            border-top-color: var(--secondary-blue);
            border-radius: 50%;
            animation: spin 1s linear infinite;
        }

        @keyframes spin {
            to { transform: rotate(360deg); }
        }

        /* ========== TOAST NOTIFICATIONS ========== */
        .toast-container {
            position: fixed;
            bottom: 30px;
            right: 30px;
            z-index: 3000;
            display: flex;
            flex-direction: column;
            gap: 10px;
        }

        .toast {
            background: var(--text-dark);
            color: white;
            padding: 15px 25px;
            border-radius: 12px;
            box-shadow: var(--shadow-xl);
            display: flex;
            align-items: center;
            gap: 10px;
            animation: slideIn 0.3s ease;
        }

        @keyframes slideIn {
            from {
                opacity: 0;
                transform: translateX(100px);
            }
            to {
                opacity: 1;
                transform: translateX(0);
            }
        }

        .toast.success {
            background: #22c55e;
        }

        .toast.error {
            background: #ef4444;
        }

        /* ========== RESPONSIVE ========== */
        @media (max-width: 1024px) {
            .hero-content {
                grid-template-columns: 1fr;
                text-align: center;
            }

            .hero-text p {
                margin: 0 auto 30px;
            }

            .hero-buttons {
                justify-content: center;
            }

            .hero-stats {
                justify-content: center;
            }

            .hero-image {
                display: none;
            }

            .categories-grid {
                grid-template-columns: repeat(3, 1fr);
            }

            .books-grid {
                grid-template-columns: repeat(3, 1fr);
            }

            .wishlist-grid {
                grid-template-columns: repeat(3, 1fr);
            }

            .modal-content {
                grid-template-columns: 1fr;
            }

            .modal-book-cover {
                max-width: 300px;
                margin: 0 auto;
            }

            .cart-layout {
                grid-template-columns: 1fr;
            }

            .order-summary {
                position: static;
            }

            .footer-content {
                grid-template-columns: repeat(2, 1fr);
            }
        }

        @media (max-width: 768px) {
            .nav-desktop {
                display: none;
            }

            .search-box {
                display: none;
            }

            .mobile-menu-btn {
                display: flex;
            }

            .hero-text h1 {
                font-size: 2.5rem;
            }

            .categories-grid {
                grid-template-columns: repeat(2, 1fr);
            }

            .books-grid {
                grid-template-columns: repeat(2, 1fr);
            }

            .wishlist-grid {
                grid-template-columns: repeat(2, 1fr);
            }

            .about-grid {
                grid-template-columns: 1fr;
            }

            .footer-content {
                grid-template-columns: 1fr;
                text-align: center;
            }
        }

        @media (max-width: 480px) {
            .hero-text h1 {
                font-size: 2rem;
            }

            .btn {
                padding: 12px 20px;
                font-size: 0.9rem;
            }

            .hero-stats {
                flex-direction: column;
                gap: 20px;
            }

            .books-grid {
                grid-template-columns: 1fr;
            }

            .wishlist-grid {
                grid-template-columns: 1fr;
            }

            .modal {
                border-radius: 20px;
            }

            .modal-content {
                padding: 20px;
            }

            .modal-book-info h1 {
                font-size: 1.5rem;
            }

            .modal-buttons {
                flex-direction: column;
            }

            .cart-item {
                flex-direction: column;
                align-items: center;
                text-align: center;
            }

            .cart-item-actions {
                flex-direction: row;
                width: 100%;
                justify-content: space-between;
                margin-top: 15px;
            }
        }
    </style>
</head>
<body>
    <!-- ========== HEADER ========== -->
    <header class="header">
        <div class="header-content">
            <a href="#" class="logo" onclick="showPage('home')">
                <span class="logo-icon">‚òï</span>
                <div class="logo-text">
                    Warmcups & Pages
                    <span>Your Cozy Reading Corner</span>
                </div>
            </a>

            <nav class="nav-desktop">
                <button class="nav-btn active" data-page="home" onclick="showPage('home')">
                    üè† Home
                </button>
                <button class="nav-btn" data-page="about" onclick="showPage('about')">
                    ‚ÑπÔ∏è About
                </button>
                <button class="nav-btn" data-page="wishlist" onclick="showPage('wishlist')">
                    ‚ù§Ô∏è Wishlist
                    <span class="badge wishlist-badge hidden">0</span>
                </button>
                <button class="nav-btn" data-page="cart" onclick="showPage('cart')">
                    üõí Cart
                    <span class="badge cart-badge hidden">0</span>
                </button>
            </nav>

            <div class="header-actions">
                <div class="search-box">
                    <input type="text" placeholder="Search books..." id="searchInput" onkeyup="handleSearch(event)">
                </div>
                <button class="icon-btn" onclick="toggleDarkMode()" title="Toggle Dark Mode">
                    <span id="darkModeIcon">üåô</span>
                </button>
                <button class="icon-btn mobile-menu-btn" onclick="toggleMobileMenu()">
                    ‚ò∞
                </button>
            </div>
        </div>

        <!-- Mobile Menu -->
        <div class="mobile-menu" id="mobileMenu">
            <div class="search-box">
                <input type="text" placeholder="Search books..." id="mobileSearchInput" onkeyup="handleMobileSearch(event)">
            </div>
            <button class="nav-btn active" data-page="home" onclick="showPage('home'); toggleMobileMenu();">
                üè† Home
            </button>
            <button class="nav-btn" data-page="about" onclick="showPage('about'); toggleMobileMenu();">
                ‚ÑπÔ∏è About
            </button>
            <button class="nav-btn" data-page="wishlist" onclick="showPage('wishlist'); toggleMobileMenu();">
                ‚ù§Ô∏è Wishlist
                <span class="badge wishlist-badge hidden">0</span>
            </button>
            <button class="nav-btn" data-page="cart" onclick="showPage('cart'); toggleMobileMenu();">
                üõí Cart
                <span class="badge cart-badge hidden">0</span>
            </button>
        </div>
    </header>

    <!-- ========== MAIN CONTENT ========== -->
    <main id="mainContent">
        <!-- HOME PAGE -->
        <div id="homePage">
            <!-- Hero Section -->
            <section class="hero">
                <div class="hero-content">
                    <div class="hero-text">
                        <h1>Where <span class="gradient-text">Stories</span> Meet <span class="gradient-text">Warmth</span></h1>
                        <p>Discover your next favorite book while sipping on imaginary coffee. Warmcups & Pages brings you a curated collection of stories that warm your heart and ignite your imagination.</p>
                        <div class="hero-buttons">
                            <button class="btn btn-primary" onclick="scrollToBooks()">
                                Explore Collection ‚Üí
                            </button>
                            <button class="btn btn-secondary">
                                üìñ How It Works
                            </button>
                        </div>
                        <div class="hero-stats">
                            <div class="stat-item">
                                <h3>10K+</h3>
                                <p>Books</p>
                            </div>
                            <div class="stat-item">
                                <h3>50K+</h3>
                                <p>Readers</p>
                            </div>
                            <div class="stat-item">
                                <h3>4.9</h3>
                                <p>Rating</p>
                            </div>
                        </div>
                    </div>
                    <div class="hero-image">
                        <div class="hero-image-main">
                            <img src="https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?w=500&h=600&fit=crop" alt="Cozy Reading">
                        </div>
                        <div class="floating-card floating-card-1">
                            <div class="floating-card-content">
                                <div class="book-mini"></div>
                                <div class="floating-card-text">
                                    <h4>New Arrival</h4>
                                    <p>+50 this week</p>
                                </div>
                            </div>
                        </div>
                        <div class="floating-card floating-card-2">
                            <div class="floating-card-content">
                                <span style="font-size: 2rem;">‚òï</span>
                                <div class="floating-card-text">
                                    <h4>Happy Reading</h4>
                                    <p>‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê</p>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Categories Section -->
            <section class="categories">
                <div class="section-header">
                    <h2>Browse by <span class="gradient-text">Category</span></h2>
                    <p>Find your perfect read from our carefully curated categories</p>
                </div>
                <div class="categories-grid" id="categoriesGrid">
                    <div class="category-card active" data-category="all" onclick="filterByCategory('all')">
                        <span class="icon">üìö</span>
                        <h3>All Books</h3>
                    </div>
                    <div class="category-card" data-category="romance" onclick="filterByCategory('romance')">
                        <span class="icon">üíï</span>
                        <h3>Romance</h3>
                    </div>
                    <div class="category-card" data-category="horror" onclick="filterByCategory('horror')">
                        <span class="icon">üëª</span>
                        <h3>Horror</h3>
                    </div>
                    <div class="category-card" data-category="self-help" onclick="filterByCategory('self-help')">
                        <span class="icon">üßò</span>
                        <h3>Self-help</h3>
                    </div>
                    <div class="category-card" data-category="programming" onclick="filterByCategory('programming')">
                        <span class="icon">üíª</span>
                        <h3>Programming</h3>
                    </div>
                    <div class="category-card" data-category="fiction" onclick="filterByCategory('fiction')">
                        <span class="icon">‚ú®</span>
                        <h3>Fiction</h3>
                    </div>
                </div>
            </section>

            <!-- Books Section -->
            <section class="books-section" id="booksSection">
                <div class="section-header">
                    <h2>Featured <span class="gradient-text">Books</span></h2>
                    <p>Handpicked favorites from our collection</p>
                </div>
                <div class="loading" id="booksLoading">
                    <div class="spinner"></div>
                </div>
                <div class="books-grid" id="booksGrid"></div>
            </section>
        </div>

        <!-- CART PAGE -->
        <div id="cartPage" class="page-content hidden">
            <div class="page-header">
                <div class="container">
                    <h1>Shopping Cart</h1>
                </div>
            </div>
            <div id="cartContent"></div>
        </div>

        <!-- WISHLIST PAGE -->
        <div id="wishlistPage" class="page-content hidden">
            <div class="page-header">
                <div class="container">
                    <h1>My Wishlist</h1>
                </div>
            </div>
            <div id="wishlistContent"></div>
        </div>

        <!-- ABOUT PAGE -->
        <div id="aboutPage" class="hidden">
            <div class="about-hero">
                <div class="logo-large">‚òïüìñ</div>
                <h1>About <span class="gradient-text">Warmcups & Pages</span></h1>
                <p>Where every book comes with a cup of warmth and every story finds a home.</p>
            </div>
            <div class="about-content">
                <div class="about-section">
                    <h2><span class="icon">üìñ</span> Our Story</h2>
                    <p>Warmcups & Pages was born from a simple belief: that the best stories are meant to be savored, just like a perfectly brewed cup of coffee. Founded in 2024, we set out to create a bookstore that feels less like a retail space and more like a cozy corner where book lovers can discover their next great adventure.</p>
                    <p>Our name reflects our philosophy ‚Äî the warmth of a good book paired with the comfort of your favorite beverage. We believe that reading should be an experience, a moment of peace in our busy lives where you can escape into different worlds, meet fascinating characters, and discover new perspectives.</p>
                </div>
                
                <div class="about-grid">
                    <div class="about-section">
                        <h2><span class="icon">üéØ</span> Our Vision</h2>
                        <p>To become the world's most beloved online bookstore ‚Äî a place where every reader, regardless of their preferences or background, can find stories that resonate with their soul and books that inspire them to dream bigger.</p>
                    </div>
                    <div class="about-section">
                        <h2><span class="icon">üë•</span> Our Mission</h2>
                        <p>To connect readers with books they'll love, provide exceptional service that makes every interaction feel personal, and build a community where the joy of reading is celebrated and shared.</p>
                    </div>
                </div>

                <div class="about-section">
                    <h2><span class="icon">‚ú®</span> Why We're Different</h2>
                    <div class="why-us-list">
                        <div class="why-item">
                            <span class="num">1</span>
                            <div>
                                <h4>Curated Collections</h4>
                                <p>Every book is hand-picked for quality and reader appeal.</p>
                            </div>
                        </div>
                        <div class="why-item">
                            <span class="num">2</span>
                            <div>
                                <h4>Cozy Experience</h4>
                                <p>A shopping experience that feels like browsing your favorite local shop.</p>
                            </div>
                        </div>
                        <div class="why-item">
                            <span class="num">3</span>
                            <div>
                                <h4>Reader Community</h4>
                                <p>Join thousands of book lovers sharing recommendations and reviews.</p>
                            </div>
                        </div>
                        <div class="why-item">
                            <span class="num">4</span>
                            <div>
                                <h4>Personal Touch</h4>
                                <p>We treat every customer like a friend, not just an order number.</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </main>

    <!-- ========== BOOK DETAIL MODAL ========== -->
    <div class="modal-overlay" id="bookModal">
        <div class="modal">
            <button class="modal-close" onclick="closeModal()">‚úï</button>
            <div class="modal-content" id="modalContent"></div>
        </div>
    </div>

    <!-- ========== TOAST CONTAINER ========== -->
    <div class="toast-container" id="toastContainer"></div>

    <!-- ========== FOOTER ========== -->
    <footer class="footer">
        <div class="footer-content">
            <div class="footer-brand">
                <div class="logo">
                    <span class="logo-icon">‚òï</span>
                    <div class="logo-text">
                        Warmcups & Pages
                        <span>Your Cozy Reading Corner</span>
                    </div>
                </div>
                <p>Your cozy corner for discovering amazing books.</p>
            </div>
            <div class="footer-links">
                <h4>Quick Links</h4>
                <ul>
                    <li><a href="#" onclick="showPage('home')">Home</a></li>
                    <li><a href="#" onclick="showPage('about')">About Us</a></li>
                    <li><a href="#" onclick="showPage('cart')">Cart</a></li>
                    <li><a href="#" onclick="showPage('wishlist')">Wishlist</a></li>
                </ul>
            </div>
            <div class="footer-links">
                <h4>Categories</h4>
                <ul>
                    <li><a href="#" onclick="filterByCategory('romance'); showPage('home')">Romance</a></li>
                    <li><a href="#" onclick="filterByCategory('horror'); showPage('home')">Horror</a></li>
                    <li><a href="#" onclick="filterByCategory('self-help'); showPage('home')">Self-help</a></li>
                    <li><a href="#" onclick="filterByCategory('programming'); showPage('home')">Programming</a></li>
                </ul>
            </div>
            <div class="footer-links">
                <h4>Contact</h4>
                <ul>
                    <li>hello@warmcups.com</li>
                    <li>1-800-BOOKS</li>
                </ul>
            </div>
        </div>
        <div class="footer-bottom">
            <p>¬© 2024 Warmcups & Pages. All rights reserved. Made with ‚ù§Ô∏è for book lovers.</p>
        </div>
    </footer>

    <!-- ========== JAVASCRIPT ========== -->
    <script>
        // ========== STATE MANAGEMENT ==========
        let books = [];
        let cart = JSON.parse(localStorage.getItem('warmcups_cart')) || [];
        let wishlist = JSON.parse(localStorage.getItem('warmcups_wishlist')) || [];
        let ratings = JSON.parse(localStorage.getItem('warmcups_ratings')) || {};
        let currentCategory = 'all';
        let searchQuery = '';

        // ========== SAMPLE BOOK DATA ==========
        const sampleBooks = [
            {
                id: '1',
                title: 'The Art of Programming',
                authors: ['John Smith'],
                description: 'A comprehensive guide to modern programming practices and software development methodologies. This book covers everything from basic algorithms to advanced system design patterns.',
                thumbnail: 'https://images.unsplash.com/photo-1544716278-ca5e3f4abd8c?w=300&h=400&fit=crop',
                price: 29.99,
                rating: 4.8,
                ratingsCount: 2500,
                category: 'Programming',
                publishedDate: '2023',
                publisher: 'Tech Books',
                pageCount: 450,
                language: 'en'
            },
            {
                id: '2',
                title: 'Romance in Paris',
                authors: ['Emma Johnson'],
                description: 'A heartwarming love story set against the beautiful backdrop of Paris, France. Follow two souls as they discover love in the city of lights.',
                thumbnail: 'https://images.unsplash.com/photo-1543002588-bfa74002ed7e?w=300&h=400&fit=crop',
                price: 14.99,
                rating: 4.5,
                ratingsCount: 1800,
                category: 'Romance',
                publishedDate: '2023',
                publisher: 'Love Stories',
                pageCount: 320,
                language: 'en'
            },
            {
                id: '3',
                title: 'Midnight Shadows',
                authors: ['Robert Dark'],
                description: 'A chilling horror novel that will keep you up all night with its terrifying twists and turns. Enter if you dare...',
                thumbnail: 'https://images.unsplash.com/photo-1518744386442-2d48ac47a7eb?w=300&h=400&fit=crop',
                price: 19.99,
                rating: 4.3,
                ratingsCount: 950,
                category: 'Horror',
                publishedDate: '2023',
                publisher: 'Dark House',
                pageCount: 280,
                language: 'en'
            },
            {
                id: '4',
                title: 'Mindful Living',
                authors: ['Sarah Peace'],
                description: 'Transform your life with powerful self-help strategies for mindfulness and inner peace. A journey to becoming your best self.',
                thumbnail: 'https://images.unsplash.com/photo-1512820790803-83ca734da794?w=300&h=400&fit=crop',
                price: 16.99,
                rating: 4.7,
                ratingsCount: 3200,
                category: 'Self-help',
                publishedDate: '2023',
                publisher: 'Wellness Press',
                pageCount: 240,
                language: 'en'
            },
            {
                id: '5',
                title: 'The Last Kingdom',
                authors: ['Michael Stone'],
                description: 'An epic fantasy adventure through mystical lands and ancient prophecies. A tale of heroes, villains, and destiny.',
                thumbnail: 'https://images.unsplash.com/photo-1481627834876-b7833e8f5570?w=300&h=400&fit=crop',
                price: 24.99,
                rating: 4.6,
                ratingsCount: 4100,
                category: 'Fiction',
                publishedDate: '2023',
                publisher: 'Epic Tales',
                pageCount: 520,
                language: 'en'
            },
            {
                id: '6',
                title: 'Code Masters',
                authors: ['Alex Developer'],
                description: 'Master the art of coding with this comprehensive guide for all skill levels. From beginner to expert in no time.',
                thumbnail: 'https://images.unsplash.com/photo-1461749280684-dccba630e2f6?w=300&h=400&fit=crop',
                price: 34.99,
                rating: 4.9,
                ratingsCount: 5600,
                category: 'Programming',
                publishedDate: '2023',
                publisher: 'Code Press',
                pageCount: 680,
                language: 'en'
            },
            {
                id: '7',
                title: 'Hearts Entwined',
                authors: ['Lucy Rose'],
                description: 'A beautiful romance novel about two souls destined to find each other against all odds.',
                thumbnail: 'https://images.unsplash.com/photo-1476275466078-4007374efbbe?w=300&h=400&fit=crop',
                price: 12.99,
                rating: 4.4,
                ratingsCount: 2200,
                category: 'Romance',
                publishedDate: '2023',
                publisher: 'Heart Books',
                pageCount: 290,
                language: 'en'
            },
            {
                id: '8',
                title: 'The Dark Within',
                authors: ['Horror Master'],
                description: 'Face your deepest fears in this terrifying journey into darkness. Some secrets should stay buried.',
                thumbnail: 'https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?w=300&h=400&fit=crop',
                price: 18.99,
                rating: 4.2,
                ratingsCount: 890,
                category: 'Horror',
                publishedDate: '2023',
                publisher: 'Night Tales',
                pageCount: 310,
                language: 'en'
            },
            {
                id: '9',
                title: 'Inner Peace Journey',
                authors: ['Dr. Calm Waters'],
                description: 'Discover the path to inner peace with practical meditation techniques and life-changing habits.',
                thumbnail: 'https://images.unsplash.com/photo-1499750310107-5fef28a66643?w=300&h=400&fit=crop',
                price: 15.99,
                rating: 4.6,
                ratingsCount: 1850,
                category: 'Self-help',
                publishedDate: '2023',
                publisher: 'Zen Publishing',
                pageCount: 200,
                language: 'en'
            },
            {
                id: '10',
                title: 'Web Development Pro',
                authors: ['Tech Expert'],
                description: 'The ultimate guide to modern web development including HTML, CSS, JavaScript, and more.',
                thumbnail: 'https://images.unsplash.com/photo-1587620962725-abab7fe55159?w=300&h=400&fit=crop',
                price: 39.99,
                rating: 4.8,
                ratingsCount: 3200,
                category: 'Programming',
                publishedDate: '2023',
                publisher: 'Web Masters',
                pageCount: 750,
                language: 'en'
            },
            {
                id: '11',
                title: 'Summer Love',
                authors: ['Beach Writer'],
                description: 'A sizzling summer romance that will make you believe in love again. Perfect beach read!',
                thumbnail: 'https://images.unsplash.com/photo-1516979187457-637abb4f9353?w=300&h=400&fit=crop',
                price: 11.99,
                rating: 4.3,
                ratingsCount: 1450,
                category: 'Romance',
                publishedDate: '2023',
                publisher: 'Beach Reads',
                pageCount: 275,
                language: 'en'
            },
            {
                id: '12',
                title: 'Dreams of Tomorrow',
                authors: ['Sci-Fi Author'],
                description: 'A science fiction masterpiece exploring humanity\'s future among the stars.',
                thumbnail: 'https://images.unsplash.com/photo-1451187580459-43490279c0fa?w=300&h=400&fit=crop',
                price: 22.99,
                rating: 4.7,
                ratingsCount: 2800,
                category: 'Fiction',
                publishedDate: '2023',
                publisher: 'Galaxy Books',
                pageCount: 420,
                language: 'en'
            }
        ];

        // ========== INITIALIZATION ==========
        document.addEventListener('DOMContentLoaded', function() {
            loadBooks();
            updateBadges();
            
            // Check for saved dark mode
            if (localStorage.getItem('warmcups_darkMode') === 'true') {
                document.documentElement.classList.add('dark');
                document.getElementById('darkModeIcon').textContent = '‚òÄÔ∏è';
            }
        });

        // ========== BOOK FUNCTIONS ==========
        function loadBooks() {
            const loading = document.getElementById('booksLoading');
            const grid = document.getElementById('booksGrid');
            
            // Simulate loading
            setTimeout(() => {
                books = sampleBooks;
                loading.classList.add('hidden');
                renderBooks();
            }, 800);
        }

        function renderBooks() {
            const grid = document.getElementById('booksGrid');
            let filteredBooks = books;

            // Filter by category
            if (currentCategory !== 'all') {
                const categoryMap = {
                    'romance': 'Romance',
                    'horror': 'Horror',
                    'self-help': 'Self-help',
                    'programming': 'Programming',
                    'fiction': 'Fiction'
                };
                filteredBooks = filteredBooks.filter(book => book.category === categoryMap[currentCategory]);
            }

            // Filter by search
            if (searchQuery) {
                filteredBooks = filteredBooks.filter(book => 
                    book.title.toLowerCase().includes(searchQuery.toLowerCase()) ||
                    book.authors.some(a => a.toLowerCase().includes(searchQuery.toLowerCase()))
                );
            }

            if (filteredBooks.length === 0) {
                grid.innerHTML = `
                    <div class="empty-state" style="grid-column: 1/-1;">
                        <div class="icon">üìö</div>
                        <h2>No books found</h2>
                        <p>Try adjusting your search or filter</p>
                    </div>
                `;
                return;
            }

            grid.innerHTML = filteredBooks.map(book => `
                <div class="book-card" onclick="openBookModal('${book.id}')">
                    <div class="book-cover">
                        <img src="${book.thumbnail}" alt="${book.title}" onerror="this.src='https://images.unsplash.com/photo-1544716278-ca5e3f4abd8c?w=300&h=400&fit=crop'">
                        <div class="book-cover-overlay"></div>
                        <span class="book-category-badge">${book.category}</span>
                        <div class="book-actions">
                            <button class="action-btn ${wishlist.includes(book.id) ? 'wishlisted' : ''}" onclick="event.stopPropagation(); toggleWishlist('${book.id}')" title="Add to Wishlist">
                                ${wishlist.includes(book.id) ? '‚ù§Ô∏è' : 'ü§ç'}
                            </button>
                        </div>
                    </div>
                    <div class="book-info">
                        <h3>${book.title}</h3>
                        <p class="author">by ${book.authors.join(', ')}</p>
                        <div class="book-rating">
                            <span class="stars">${getStars(book.rating)}</span>
                            <span class="rating-count">(${book.ratingsCount.toLocaleString()})</span>
                        </div>
                        <div class="book-price-row">
                            <span class="book-price">$${book.price.toFixed(2)}</span>
                            <button class="add-to-cart-btn" onclick="event.stopPropagation(); addToCart('${book.id}')">
                                üõí Add
                            </button>
                        </div>
                    </div>
                </div>
            `).join('');
        }

        function getStars(rating) {
            const full = Math.floor(rating);
            const half = rating % 1 >= 0.5 ? 1 : 0;
            const empty = 5 - full - half;
            return '‚òÖ'.repeat(full) + (half ? '¬Ω' : '') + '‚òÜ'.repeat(empty);
        }

        // ========== MODAL FUNCTIONS ==========
        function openBookModal(bookId) {
            const book = books.find(b => b.id === bookId);
            if (!book) return;

            const modal = document.getElementById('bookModal');
            const content = document.getElementById('modalContent');
            const userRating = ratings[bookId] || 0;

            content.innerHTML = `
                <div class="modal-book-cover">
                    <img src="${book.thumbnail}" alt="${book.title}" onerror="this.src='https://images.unsplash.com/photo-1544716278-ca5e3f4abd8c?w=300&h=400&fit=crop'">
                </div>
                <div class="modal-book-info">
                    <h1>${book.title}</h1>
                    <p class="author">by <strong>${book.authors.join(', ')}</strong></p>
                    
                    <div class="modal-rating">
                        <span class="stars">${getStars(book.rating)}</span>
                        <span>${book.rating} (${book.ratingsCount.toLocaleString()} reviews)</span>
                    </div>

                    <div class="user-rating">
                        <h4>Rate this book:</h4>
                        <div class="stars-interactive" id="ratingStars">
                            ${[1,2,3,4,5].map(i => `
                                <span onclick="rateBook('${book.id}', ${i})" style="color: ${i <= userRating ? '#fbbf24' : '#d1d5db'};">‚òÖ</span>
                            `).join('')}
                        </div>
                    </div>

                    <div class="modal-price">$${book.price.toFixed(2)}</div>

                    <div class="modal-buttons">
                        <button class="btn btn-primary" onclick="addToCart('${book.id}'); closeModal();">
                            üõí Add to Cart
                        </button>
                        <button class="btn btn-secondary ${wishlist.includes(book.id) ? 'wishlisted' : ''}" onclick="toggleWishlist('${book.id}')" style="${wishlist.includes(book.id) ? 'background: #fef2f2; color: #ef4444; border-color: #fecaca;' : ''}">
                            ${wishlist.includes(book.id) ? '‚ù§Ô∏è In Wishlist' : 'ü§ç Add to Wishlist'}
                        </button>
                    </div>

                    <div class="modal-description">
                        <h3>Description</h3>
                        <p>${book.description}</p>
                    </div>

                    <div class="modal-details-grid">
                        <div class="detail-item">
                            <label>Publisher</label>
                            <span>${book.publisher}</span>
                        </div>
                        <div class="detail-item">
                            <label>Published</label>
                            <span>${book.publishedDate}</span>
                        </div>
                        <div class="detail-item">
                            <label>Pages</label>
                            <span>${book.pageCount || 'N/A'}</span>
                        </div>
                        <div class="detail-item">
                            <label>Language</label>
                            <span>${book.language.toUpperCase()}</span>
                        </div>
                    </div>
                </div>
            `;

            modal.classList.add('show');
            document.body.style.overflow = 'hidden';
        }

        function closeModal() {
            document.getElementById('bookModal').classList.remove('show');
            document.body.style.overflow = '';
        }

        // Close modal on overlay click
        document.getElementById('bookModal').addEventListener('click', function(e) {
            if (e.target === this) closeModal();
        });

        // ========== CART FUNCTIONS ==========
        function addToCart(bookId) {
            const book = books.find(b => b.id === bookId);
            if (!book) return;

            const existing = cart.find(item => item.book.id === bookId);
            if (existing) {
                existing.quantity++;
            } else {
                cart.push({ book, quantity: 1 });
            }

            saveCart();
            updateBadges();
            showToast(`"${book.title}" added to cart!`, 'success');
        }

        function removeFromCart(bookId) {
            cart = cart.filter(item => item.book.id !== bookId);
            saveCart();
            updateBadges();
            renderCart();
        }

        function updateQuantity(bookId, delta) {
            const item = cart.find(item => item.book.id === bookId);
            if (item) {
                item.quantity += delta;
                if (item.quantity <= 0) {
                    removeFromCart(bookId);
                    return;
                }
            }
            saveCart();
            renderCart();
        }

        function saveCart() {
            localStorage.setItem('warmcups_cart', JSON.stringify(cart));
        }

        function renderCart() {
            const container = document.getElementById('cartContent');
            
            if (cart.length === 0) {
                container.innerHTML = `
                    <div class="container">
                        <div class="empty-state">
                            <div class="icon">üõí</div>
                            <h2>Your cart is empty</h2>
                            <p>Looks like you haven't added any books yet.</p>
                            <button class="btn btn-primary" onclick="showPage('home')">
                                Browse Books
                            </button>
                        </div>
                    </div>
                `;
                return;
            }

            const total = cart.reduce((sum, item) => sum + item.book.price * item.quantity, 0);

            container.innerHTML = `
                <div class="container">
                    <div class="cart-layout">
                        <div class="cart-items">
                            ${cart.map(item => `
                                <div class="cart-item">
                                    <img src="${item.book.thumbnail}" alt="${item.book.title}">
                                    <div class="cart-item-info">
                                        <h3>${item.book.title}</h3>
                                        <p class="author">by ${item.book.authors.join(', ')}</p>
                                        <span class="price">$${item.book.price.toFixed(2)}</span>
                                    </div>
                                    <div class="cart-item-actions">
                                        <button class="remove-btn" onclick="removeFromCart('${item.book.id}')" title="Remove">üóëÔ∏è</button>
                                        <div class="quantity-control">
                                            <button onclick="updateQuantity('${item.book.id}', -1)">-</button>
                                            <span>${item.quantity}</span>
                                            <button onclick="updateQuantity('${item.book.id}', 1)">+</button>
                                        </div>
                                    </div>
                                </div>
                            `).join('')}
                        </div>
                        <div class="order-summary">
                            <h2>Order Summary</h2>
                            <div class="summary-row">
                                <span>Subtotal</span>
                                <span>$${total.toFixed(2)}</span>
                            </div>
                            <div class="summary-row">
                                <span>Shipping</span>
                                <span class="free-shipping">Free</span>
                            </div>
                            <div class="summary-row total">
                                <span>Total</span>
                                <span>$${total.toFixed(2)}</span>
                            </div>
                            <button class="btn btn-primary checkout-btn">
                                Proceed to Checkout
                            </button>
                        </div>
                    </div>
                </div>
            `;
        }

        // ========== WISHLIST FUNCTIONS ==========
        function toggleWishlist(bookId) {
            const index = wishlist.indexOf(bookId);
            const book = books.find(b => b.id === bookId);
            
            if (index > -1) {
                wishlist.splice(index, 1);
                showToast(`"${book?.title}" removed from wishlist`, 'info');
            } else {
                wishlist.push(bookId);
                showToast(`"${book?.title}" added to wishlist!`, 'success');
            }

            localStorage.setItem('warmcups_wishlist', JSON.stringify(wishlist));
            updateBadges();
            renderBooks();
            
            // Re-render wishlist if on wishlist page
            if (!document.getElementById('wishlistPage').classList.contains('hidden')) {
                renderWishlist();
            }
        }

        function renderWishlist() {
            const container = document.getElementById('wishlistContent');
            const wishlistBooks = books.filter(book => wishlist.includes(book.id));
            
            if (wishlistBooks.length === 0) {
                container.innerHTML = `
                    <div class="container">
                        <div class="empty-state">
                            <div class="icon">‚ù§Ô∏è</div>
                            <h2>Your wishlist is empty</h2>
                            <p>Save your favorite books to view them later.</p>
                            <button class="btn btn-primary" onclick="showPage('home')">
                                Browse Books
                            </button>
                        </div>
                    </div>
                `;
                return;
            }

            container.innerHTML = `
                <div class="container">
                    <div class="wishlist-grid">
                        ${wishlistBooks.map(book => `
                            <div class="book-card">
                                <div class="book-cover">
                                    <img src="${book.thumbnail}" alt="${book.title}">
                                    <div class="book-cover-overlay"></div>
                                    <span class="book-category-badge">${book.category}</span>
                                    <div class="book-actions">
                                        <button class="action-btn wishlisted" onclick="toggleWishlist('${book.id}')" title="Remove from Wishlist">
                                            ‚ù§Ô∏è
                                        </button>
                                    </div>
                                </div>
                                <div class="book-info">
                                    <h3>${book.title}</h3>
                                    <p class="author">by ${book.authors.join(', ')}</p>
                                    <div class="book-price-row">
                                        <span class="book-price">$${book.price.toFixed(2)}</span>
                                        <button class="add-to-cart-btn" onclick="addToCart('${book.id}'); toggleWishlist('${book.id}')">
                                            üõí Add
                                        </button>
                                    </div>
                                </div>
                            </div>
                        `).join('')}
                    </div>
                </div>
            `;
        }

        // ========== RATING FUNCTIONS ==========
        function rateBook(bookId, rating) {
            ratings[bookId] = rating;
            localStorage.setItem('warmcups_ratings', JSON.stringify(ratings));
            
            // Update stars display
            const starsContainer = document.getElementById('ratingStars');
            if (starsContainer) {
                starsContainer.innerHTML = [1,2,3,4,5].map(i => `
                    <span onclick="rateBook('${bookId}', ${i})" style="color: ${i <= rating ? '#fbbf24' : '#d1d5db'};">‚òÖ</span>
                `).join('');
            }
            
            showToast('Thanks for rating!', 'success');
        }

        // ========== NAVIGATION ==========
        function showPage(page) {
            // Hide all pages
            document.getElementById('homePage').classList.add('hidden');
            document.getElementById('cartPage').classList.add('hidden');
            document.getElementById('wishlistPage').classList.add('hidden');
            document.getElementById('aboutPage').classList.add('hidden');

            // Show selected page
            document.getElementById(page + 'Page').classList.remove('hidden');

            // Update nav buttons
            document.querySelectorAll('.nav-btn').forEach(btn => {
                btn.classList.remove('active');
                if (btn.dataset.page === page) {
                    btn.classList.add('active');
                }
            });

            // Render content
            if (page === 'cart') renderCart();
            if (page === 'wishlist') renderWishlist();

            // Scroll to top
            window.scrollTo(0, 0);
        }

        // ========== FILTERS & SEARCH ==========
        function filterByCategory(category) {
            currentCategory = category;
            
            // Update category cards
            document.querySelectorAll('.category-card').forEach(card => {
                card.classList.remove('active');
                if (card.dataset.category === category) {
                    card.classList.add('active');
                }
            });

            renderBooks();
        }

        function handleSearch(event) {
            searchQuery = event.target.value;
            document.getElementById('mobileSearchInput').value = searchQuery;
            renderBooks();
        }

        function handleMobileSearch(event) {
            searchQuery = event.target.value;
            document.getElementById('searchInput').value = searchQuery;
            renderBooks();
        }

        function scrollToBooks() {
            document.getElementById('booksSection').scrollIntoView({ behavior: 'smooth' });
        }

        // ========== UI HELPERS ==========
        function toggleDarkMode() {
            document.documentElement.classList.toggle('dark');
            const isDark = document.documentElement.classList.contains('dark');
            document.getElementById('darkModeIcon').textContent = isDark ? '‚òÄÔ∏è' : 'üåô';
            localStorage.setItem('warmcups_darkMode', isDark);
        }

        function toggleMobileMenu() {
            document.getElementById('mobileMenu').classList.toggle('show');
        }

        function updateBadges() {
            const cartBadge = document.querySelectorAll('.cart-badge');
            const wishlistBadge = document.querySelectorAll('.wishlist-badge');
            
            cartBadge.forEach(badge => {
                const count = cart.reduce((sum, item) => sum + item.quantity, 0);
                badge.textContent = count;
                badge.classList.toggle('hidden', count === 0);
            });

            wishlistBadge.forEach(badge => {
                badge.textContent = wishlist.length;
                badge.classList.toggle('hidden', wishlist.length === 0);
            });
        }

        function showToast(message, type = 'info') {
            const container = document.getElementById('toastContainer');
            const toast = document.createElement('div');
            toast.className = `toast ${type}`;
            toast.innerHTML = `${type === 'success' ? '‚úì' : type === 'error' ? '‚úï' : '‚Ñπ'} ${message}`;
            container.appendChild(toast);

            setTimeout(() => {
                toast.style.animation = 'slideIn 0.3s ease reverse';
                setTimeout(() => toast.remove(), 300);
            }, 3000);
        }

        // Keyboard shortcuts
        document.addEventListener('keydown', function(e) {
            if (e.key === 'Escape') {
                closeModal();
            }
        });
    </script>
</body>
</html>
